
[1m[46m RUN [49m[22m [36mv4.0.16 [39m[90mC:/Kuliah/Semester 7/PM/tubes/multidisiplin2025[39m

[90mstdout[2m | src/lib/features/auth/application/usecase/__tests__/LoginUseCase.test.ts
[22m[39m[dotenv@17.2.3] injecting env (5) from .env -- tip: ≡ƒöÉ prevent building .env in docker: https://dotenvx.com/prebuild

[90mstdout[2m | src/lib/common/provider/AppContainer.test.ts
[22m[39m[dotenv@17.2.3] injecting env (5) from .env -- tip: ≡ƒöæ add access controls to secrets: https://dotenvx.com/ops

[90mstdout[2m | src/lib/features/auth/infrastructure/adapter/__tests__/BcryptService.test.ts
[22m[39m[dotenv@17.2.3] injecting env (5) from .env -- tip: ≡ƒôí add observability to secrets: https://dotenvx.com/ops

[90mstdout[2m | src/lib/common/config/env.test.ts
[22m[39m[dotenv@17.2.3] injecting env (5) from .env -- tip: ≡ƒæÑ sync secrets across teammates & machines: https://dotenvx.com/ops

[90mstdout[2m | src/lib/features/auth/presentation/middleware/__tests__/requireAuth.test.ts
[22m[39m[dotenv@17.2.3] injecting env (5) from .env -- tip: ΓÜÖ∩╕Å  override existing env vars with { override: true }

[90mstdout[2m | src/lib/features/auth/infrastructure/__tests__/JwtTokenService.test.ts
[22m[39m[dotenv@17.2.3] injecting env (5) from .env -- tip: ΓÜÖ∩╕Å  load multiple .env files with { path: ['.env.local', '.env'] }

[90mstdout[2m | src/lib/common/utils/token.test.ts
[22m[39m[dotenv@17.2.3] injecting env (5) from .env -- tip: ≡ƒöæ add access controls to secrets: https://dotenvx.com/ops

[90mstdout[2m | src/lib/common/middleware/authMiddleware.test.ts
[22m[39m[dotenv@17.2.3] injecting env (5) from .env -- tip: ΓÜÖ∩╕Å  write to custom object with { processEnv: myObject }

[90mstdout[2m | src/lib/features/auth/application/usecase/__tests__/RegisterUserUseCase.test.ts
[22m[39m[dotenv@17.2.3] injecting env (5) from .env -- tip: ≡ƒöä add secrets lifecycle management: https://dotenvx.com/ops

[90mstdout[2m | src/lib/features/auth/application/usecase/__tests__/RefreshTokenUseCase.test.ts
[22m[39m[dotenv@17.2.3] injecting env (5) from .env -- tip: ≡ƒöÉ encrypt with Dotenvx: https://dotenvx.com

[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts
[22m[39m[dotenv@17.2.3] injecting env (5) from .env -- tip: ≡ƒöä add secrets lifecycle management: https://dotenvx.com/ops

 [31mΓ¥»[39m src/lib/common/config/env.test.ts [2m([22m[2m2 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 15[2mms[22m[39m
[31m     [31m├ù[31m should parse environment variables correctly[39m[32m 9[2mms[22m[39m
     [32mΓ£ô[39m should throw error if JWT_SECRET is too short[32m 3[2mms[22m[39m
 [31mΓ¥»[39m src/lib/features/auth/application/usecase/__tests__/RegisterUserUseCase.test.ts [2m([22m[2m2 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[32m 19[2mms[22m[39m
[31m     [31m├ù[31m throws if email already taken[39m[32m 11[2mms[22m[39m
[31m     [31m├ù[31m creates user if email not taken[39m[32m 5[2mms[22m[39m
 [31mΓ¥»[39m src/lib/features/auth/application/usecase/__tests__/LoginUseCase.test.ts [2m([22m[2m3 tests[22m[2m | [22m[31m3 failed[39m[2m)[22m[32m 21[2mms[22m[39m
[31m     [31m├ù[31m throws if user not found[39m[32m 11[2mms[22m[39m
[31m     [31m├ù[31m throws if password invalid[39m[32m 2[2mms[22m[39m
[31m     [31m├ù[31m returns tokens if credentials valid[39m[32m 5[2mms[22m[39m
 [32mΓ£ô[39m src/lib/common/utils/token.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 18[2mms[22m[39m
 [32mΓ£ô[39m src/lib/features/auth/infrastructure/__tests__/JwtTokenService.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 23[2mms[22m[39m
[90mstdout[2m | src/lib/features/auth/application/usecase/__tests__/RefreshTokenUseCase.test.ts[2m > [22m[2mRefreshTokenUseCase[2m > [22m[2mthrows if session not found
[22m[39m[2026-01-06 13:46:05] [31merror[39m: Error: Invalid refresh token
    at RefreshTokenUseCase.execute (C:/Kuliah/Semester 7/PM/tubes/multidisiplin2025/src/lib/features/auth/application/usecase/RefreshTokenUseCase.ts:18:27)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)

[90mstdout[2m | src/lib/features/auth/application/usecase/__tests__/RefreshTokenUseCase.test.ts[2m > [22m[2mRefreshTokenUseCase[2m > [22m[2mthrows if token userId tidak sesuai session
[22m[39m[2026-01-06 13:46:05] [31merror[39m: Error: Token does not match session
    at RefreshTokenUseCase.execute (C:/Kuliah/Semester 7/PM/tubes/multidisiplin2025/src/lib/features/auth/application/usecase/RefreshTokenUseCase.ts:20:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)

[90mstdout[2m | src/lib/features/auth/application/usecase/__tests__/RefreshTokenUseCase.test.ts[2m > [22m[2mRefreshTokenUseCase[2m > [22m[2mthrows if refresh token expired
[22m[39m[2026-01-06 13:46:05] [31merror[39m: Error: Refresh token expired
    at RefreshTokenUseCase.execute (C:/Kuliah/Semester 7/PM/tubes/multidisiplin2025/src/lib/features/auth/application/usecase/RefreshTokenUseCase.ts:23:49)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)

 [32mΓ£ô[39m src/lib/features/auth/application/usecase/__tests__/RefreshTokenUseCase.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 28[2mms[22m[39m
[90mstdout[2m | src/lib/common/provider/AppContainer.test.ts
[22m[39m[2026-01-06 13:46:05] [32minfo[39m: [32m[Prisma Info] Starting a postgresql pool with 17 connections.[39m

[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts
[22m[39m[2026-01-06 13:46:05] [32minfo[39m: [32m[Prisma Info] Starting a postgresql pool with 17 connections.[39m

 [32mΓ£ô[39m src/lib/common/middleware/authMiddleware.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 16[2mms[22m[39m
 [32mΓ£ô[39m src/lib/features/auth/infrastructure/adapter/__tests__/BcryptService.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 558[2mms[22m[39m
     [33m[2mΓ£ô[22m[39m compares password correctly [33m 392[2mms[22m[39m
 [31mΓ¥»[39m src/lib/features/auth/presentation/middleware/__tests__/requireAuth.test.ts [2m([22m[2m3 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[32m 38[2mms[22m[39m
     [32mΓ£ô[39m returns null if no auth header[32m 18[2mms[22m[39m
[31m     [31m├ù[31m calls token verify if header present[39m[32m 13[2mms[22m[39m
[31m     [31m├ù[31m returns null if verify throws[39m[32m 2[2mms[22m[39m
 [31mΓ¥»[39m src/lib/common/provider/AppContainer.test.ts [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 18[2mms[22m[39m
[31m     [31m├ù[31m should provide auth instance[39m[32m 15[2mms[22m[39m
[90mstdout[2m | src/lib/common/validation/validate.test.ts
[22m[39m[dotenv@17.2.3] injecting env (5) from .env -- tip: ΓÜÖ∩╕Å  suppress all logs with { quiet: true }

[90mstdout[2m | src/lib/features/auth/presentation/dto/__tests__/Register.test.ts
[22m[39m[dotenv@17.2.3] injecting env (5) from .env -- tip: ≡ƒöÉ encrypt with Dotenvx: https://dotenvx.com

[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts[2m > [22m[2mAuth Full Integration[2m > [22m[2mregister ΓåÆ login ΓåÆ refresh ΓåÆ logout flow
[22m[39m[2026-01-06 13:46:05] [34mdebug[39m: [34mQuery: DELETE FROM "public"."Session" WHERE 1=1 | Params: [] | Duration: 4ms[39m

[90mstdout[2m | src/lib/features/auth/presentation/dto/__tests__/Login.test.ts
[22m[39m[dotenv@17.2.3] injecting env (5) from .env -- tip: ≡ƒùé∩╕Å backup and recover secrets: https://dotenvx.com/ops

[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts[2m > [22m[2mAuth Full Integration[2m > [22m[2mregister ΓåÆ login ΓåÆ refresh ΓåÆ logout flow
[22m[39m[2026-01-06 13:46:05] [34mdebug[39m: [34mQuery: DELETE FROM "public"."User" WHERE 1=1 | Params: [] | Duration: 5ms[39m

[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts[2m > [22m[2mAuth Full Integration[2m > [22m[2mregister ΓåÆ login ΓåÆ refresh ΓåÆ logout flow
[22m[39m[2026-01-06 13:46:05] [34mdebug[39m: [34mQuery: SELECT "public"."User"."id_User", "public"."User"."Role", "public"."User"."Password", "public"."User"."Email", "public"."User"."Name", "public"."User"."createdAt", "public"."User"."updatedAt" FROM "public"."User" WHERE ("public"."User"."Role" = $1 AND 1=1) LIMIT $2 OFFSET $3 | Params: ["STUDENT_HOUSING",1,0] | Duration: 1ms[39m

[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts[2m > [22m[2mAuth Full Integration[2m > [22m[2mregister ΓåÆ login ΓåÆ refresh ΓåÆ logout flow
[22m[39m[2026-01-06 13:46:05] [34mdebug[39m: [34mQuery: SELECT "public"."User"."id_User", "public"."User"."Role", "public"."User"."Password", "public"."User"."Email", "public"."User"."Name", "public"."User"."createdAt", "public"."User"."updatedAt" FROM "public"."User" WHERE ("public"."User"."Email" = $1 AND 1=1) LIMIT $2 OFFSET $3 | Params: ["test@example.com",1,0] | Duration: 0ms[39m

[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts[2m > [22m[2mAuth Full Integration[2m > [22m[2mregister ΓåÆ login ΓåÆ refresh ΓåÆ logout flow
[22m[39m[2026-01-06 13:46:05] [34mdebug[39m: [34mQuery: INSERT INTO "public"."User" ("Role","Password","Email","Name","createdAt","updatedAt") VALUES ($1,$2,$3,$4,$5,$6) RETURNING "public"."User"."id_User", "public"."User"."Role", "public"."User"."Password", "public"."User"."Email", "public"."User"."Name", "public"."User"."createdAt", "public"."User"."updatedAt" | Params: ["STUDENT_HOUSING","5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8","test@example.com","Test User","2026-01-06 06:46:05.885 UTC","2026-01-06 06:46:05.885 UTC"] | Duration: 3ms[39m

[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts[2m > [22m[2mAuth Full Integration[2m > [22m[2mregister ΓåÆ login ΓåÆ refresh ΓåÆ logout flow
[22m[39m[2026-01-06 13:46:05] [34mdebug[39m: [34mQuery: SELECT "public"."User"."id_User", "public"."User"."Role", "public"."User"."Password", "public"."User"."Email", "public"."User"."Name", "public"."User"."createdAt", "public"."User"."updatedAt" FROM "public"."User" WHERE ("public"."User"."Role" = $1 AND 1=1) LIMIT $2 OFFSET $3 | Params: ["STUDENT_HOUSING",1,0] | Duration: 0ms[39m

 [32mΓ£ô[39m src/lib/common/validation/validate.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 11[2mms[22m[39m
[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts[2m > [22m[2mAuth Full Integration[2m > [22m[2mregister ΓåÆ login ΓåÆ refresh ΓåÆ logout flow
[22m[39m[2026-01-06 13:46:05] [34mdebug[39m: [34mQuery: INSERT INTO "public"."Session" ("id","userId","refreshToken","expiresAt","createdAt") VALUES ($1,$2,$3,$4,$5) RETURNING "public"."Session"."id", "public"."Session"."userId", "public"."Session"."refreshToken", "public"."Session"."expiresAt", "public"."Session"."createdAt" | Params: ["cmk287a6p0001tmcg8aveoj6b",15,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzZXNzaW9uIjp0cnVlLCJ1c2VySWQiOjE1LCJpYXQiOjE3Njc2ODE5NjUsImV4cCI6MTc2ODI4Njc2NX0.mGswF-ejyIX9wUBSmtTu2WEWW7H4YTTMogN5_3eUTfE","2026-01-13 06:46:05.902 UTC","2026-01-06 06:46:05.905 UTC"] | Duration: 2ms[39m

[90mstdout[2m | src/lib/common/logger/logger.test.ts
[22m[39m[dotenv@17.2.3] injecting env (5) from .env -- tip: ΓÜÖ∩╕Å  enable debug logging with { debug: true }

[90mstdout[2m | src/lib/features/auth/domain/service/__tests__/AuthDomainService.test.ts
[22m[39m[dotenv@17.2.3] injecting env (5) from .env -- tip: ΓÜÖ∩╕Å  enable debug logging with { debug: true }

 [32mΓ£ô[39m src/lib/features/auth/presentation/dto/__tests__/Register.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 14[2mms[22m[39m
 [32mΓ£ô[39m src/lib/features/auth/presentation/dto/__tests__/Login.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mΓ£ô[39m src/lib/features/auth/domain/service/__tests__/AuthDomainService.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 8[2mms[22m[39m
[90mstdout[2m | src/lib/common/errors/AppError.test.ts
[22m[39m[dotenv@17.2.3] injecting env (5) from .env -- tip: ΓÜÖ∩╕Å  enable debug logging with { debug: true }

 [32mΓ£ô[39m src/lib/common/errors/AppError.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 8[2mms[22m[39m
[90mstdout[2m | src/lib/common/errors/errorMapper.test.ts
[22m[39m[dotenv@17.2.3] injecting env (5) from .env -- tip: ≡ƒöæ add access controls to secrets: https://dotenvx.com/ops

[90mstdout[2m | src/lib/features/auth/infrastructure/persistence/__tests__/PrismaSessionRepository.test.ts
[22m[39m[dotenv@17.2.3] injecting env (5) from .env -- tip: ≡ƒöä add secrets lifecycle management: https://dotenvx.com/ops

[90mstdout[2m | src/lib/features/auth/application/usecase/__tests__/LogoutUseCase.test.ts
[22m[39m[dotenv@17.2.3] injecting env (5) from .env -- tip: Γ£à audit secrets and track compliance: https://dotenvx.com/ops

[90mstdout[2m | src/lib/features/auth/domain/port/__tests__/SessionRepository.test.ts
[22m[39m[dotenv@17.2.3] injecting env (5) from .env -- tip: ≡ƒôí add observability to secrets: https://dotenvx.com/ops

 [32mΓ£ô[39m src/lib/features/auth/application/usecase/__tests__/LogoutUseCase.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mΓ£ô[39m src/lib/common/errors/errorMapper.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mΓ£ô[39m src/lib/features/auth/domain/port/__tests__/SessionRepository.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mΓ£ô[39m src/lib/features/auth/infrastructure/persistence/__tests__/PrismaSessionRepository.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 7[2mms[22m[39m
[90mstdout[2m | src/lib/common/logger/logger.test.ts[2m > [22m[2mlogger[2m > [22m[2mshould call debug without error
[22m[39m[2026-01-06 13:46:06] [34mdebug[39m: [34mtest[39m

 [32mΓ£ô[39m src/lib/common/logger/logger.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 13[2mms[22m[39m
[90mstdout[2m | src/lib/common/utils/object.test.ts
[22m[39m[dotenv@17.2.3] injecting env (5) from .env -- tip: ΓÜÖ∩╕Å  specify custom .env file path with { path: '/custom/path/.env' }

 [32mΓ£ô[39m src/lib/common/utils/object.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 8[2mms[22m[39m
[90mstdout[2m | src/lib/common/middleware/rateLimiter.test.ts
[22m[39m[dotenv@17.2.3] injecting env (5) from .env -- tip: ΓÜÖ∩╕Å  write to custom object with { processEnv: myObject }

[90mstdout[2m | src/lib/features/auth/domain/port/__tests__/UserRepository.test.ts
[22m[39m[dotenv@17.2.3] injecting env (5) from .env -- tip: ≡ƒöÉ prevent building .env in docker: https://dotenvx.com/prebuild

[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts[2m > [22m[2mAuth Full Integration[2m > [22m[2mregister ΓåÆ login ΓåÆ refresh ΓåÆ logout flow
[22m[39m[2026-01-06 13:46:06] [34mdebug[39m: [34mQuery: SELECT "public"."Session"."id", "public"."Session"."userId", "public"."Session"."refreshToken", "public"."Session"."expiresAt", "public"."Session"."createdAt" FROM "public"."Session" WHERE ("public"."Session"."refreshToken" = $1 AND 1=1) LIMIT $2 OFFSET $3 | Params: ["eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzZXNzaW9uIjp0cnVlLCJ1c2VySWQiOjE1LCJpYXQiOjE3Njc2ODE5NjUsImV4cCI6MTc2ODI4Njc2NX0.mGswF-ejyIX9wUBSmtTu2WEWW7H4YTTMogN5_3eUTfE",1,0] | Duration: 1ms[39m

 [32mΓ£ô[39m src/lib/common/middleware/rateLimiter.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 8[2mms[22m[39m
[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts[2m > [22m[2mAuth Full Integration[2m > [22m[2mregister ΓåÆ login ΓåÆ refresh ΓåÆ logout flow
[22m[39m[2026-01-06 13:46:06] [34mdebug[39m: [34mQuery: DELETE FROM "public"."Session" WHERE "public"."Session"."refreshToken" = $1 | Params: ["eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzZXNzaW9uIjp0cnVlLCJ1c2VySWQiOjE1LCJpYXQiOjE3Njc2ODE5NjUsImV4cCI6MTc2ODI4Njc2NX0.mGswF-ejyIX9wUBSmtTu2WEWW7H4YTTMogN5_3eUTfE"] | Duration: 1ms[39m

[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts[2m > [22m[2mAuth Full Integration[2m > [22m[2mregister ΓåÆ login ΓåÆ refresh ΓåÆ logout flow
[22m[39m[2026-01-06 13:46:06] [34mdebug[39m: [34mQuery: SELECT "public"."Session"."id", "public"."Session"."userId", "public"."Session"."refreshToken", "public"."Session"."expiresAt", "public"."Session"."createdAt" FROM "public"."Session" WHERE ("public"."Session"."refreshToken" = $1 AND 1=1) LIMIT $2 OFFSET $3 | Params: ["eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzZXNzaW9uIjp0cnVlLCJ1c2VySWQiOjE1LCJpYXQiOjE3Njc2ODE5NjUsImV4cCI6MTc2ODI4Njc2NX0.mGswF-ejyIX9wUBSmtTu2WEWW7H4YTTMogN5_3eUTfE",1,0] | Duration: 0ms[39m

[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts[2m > [22m[2mAuth Full Integration[2m > [22m[2mlogin gagal jika password salah
[22m[39m[2026-01-06 13:46:06] [34mdebug[39m: [34mQuery: DELETE FROM "public"."Session" WHERE 1=1 | Params: [] | Duration: 1ms[39m

[90mstdout[2m | src/lib/features/auth/presentation/dto/__tests__/Refresh.test.ts
[22m[39m[dotenv@17.2.3] injecting env (5) from .env -- tip: ΓÜÖ∩╕Å  enable debug logging with { debug: true }

[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts[2m > [22m[2mAuth Full Integration[2m > [22m[2mlogin gagal jika password salah
[22m[39m[2026-01-06 13:46:06] [34mdebug[39m: [34mQuery: DELETE FROM "public"."User" WHERE 1=1 | Params: [] | Duration: 8ms[39m

[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts[2m > [22m[2mAuth Full Integration[2m > [22m[2mlogin gagal jika password salah
[22m[39m[2026-01-06 13:46:06] [34mdebug[39m: [34mQuery: SELECT "public"."User"."id_User", "public"."User"."Role", "public"."User"."Password", "public"."User"."Email", "public"."User"."Name", "public"."User"."createdAt", "public"."User"."updatedAt" FROM "public"."User" WHERE ("public"."User"."Role" = $1 AND 1=1) LIMIT $2 OFFSET $3 | Params: ["FAIL_ROLE",1,0] | Duration: 0ms[39m

[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts[2m > [22m[2mAuth Full Integration[2m > [22m[2mlogin gagal jika password salah
[22m[39m[2026-01-06 13:46:06] [34mdebug[39m: [34mQuery: INSERT INTO "public"."User" ("Role","Password","createdAt","updatedAt") VALUES ($1,$2,$3,$4) RETURNING "public"."User"."id_User", "public"."User"."Role", "public"."User"."Password", "public"."User"."Email", "public"."User"."Name", "public"."User"."createdAt", "public"."User"."updatedAt" | Params: ["FAIL_ROLE","15a596e3c98c407e043751ff3b21ff0358a1bdfdf3fe948b1523893a8e5de2e8","2026-01-06 06:46:06.958 UTC","2026-01-06 06:46:06.958 UTC"] | Duration: 1ms[39m

[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts[2m > [22m[2mAuth Full Integration[2m > [22m[2mlogin gagal jika password salah
[22m[39m[2026-01-06 13:46:06] [34mdebug[39m: [34mQuery: SELECT "public"."User"."id_User", "public"."User"."Role", "public"."User"."Password", "public"."User"."Email", "public"."User"."Name", "public"."User"."createdAt", "public"."User"."updatedAt" FROM "public"."User" WHERE ("public"."User"."Role" = $1 AND 1=1) LIMIT $2 OFFSET $3 | Params: ["FAIL_ROLE",1,0] | Duration: 0ms[39m

[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts[2m > [22m[2mAuth Full Integration
[22m[39m[2026-01-06 13:46:06] [34mdebug[39m: [34mQuery: DELETE FROM "public"."Session" WHERE 1=1 | Params: [] | Duration: 0ms[39m

[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts[2m > [22m[2mAuth Full Integration
[22m[39m[2026-01-06 13:46:06] [34mdebug[39m: [34mQuery: DELETE FROM "public"."User" WHERE 1=1 | Params: [] | Duration: 1ms[39m

[90mstdout[2m | src/lib/features/auth/domain/port/__tests__/TokenService.test.ts
[22m[39m[dotenv@17.2.3] injecting env (5) from .env -- tip: ≡ƒöæ add access controls to secrets: https://dotenvx.com/ops

 [32mΓ£ô[39m src/lib/features/auth/auth.integration.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 1131[2mms[22m[39m
     [33m[2mΓ£ô[22m[39m register ΓåÆ login ΓåÆ refresh ΓåÆ logout flow [33m 1088[2mms[22m[39m
 [32mΓ£ô[39m src/lib/features/auth/domain/port/__tests__/UserRepository.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mΓ£ô[39m src/lib/features/auth/domain/port/__tests__/TokenService.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 5[2mms[22m[39m
[90mstdout[2m | src/lib/features/auth/infrastructure/persistence/__tests__/PrismaUserRepository.test.ts
[22m[39m[dotenv@17.2.3] injecting env (5) from .env -- tip: ≡ƒæÑ sync secrets across teammates & machines: https://dotenvx.com/ops

[90mstdout[2m | src/lib/common/utils/date.test.ts
[22m[39m[dotenv@17.2.3] injecting env (5) from .env -- tip: ΓÜÖ∩╕Å  override existing env vars with { override: true }

[90mstdout[2m | src/lib/features/auth/infrastructure/mapper/__tests__/UserMapper.test.ts
[22m[39m[dotenv@17.2.3] injecting env (5) from .env -- tip: ≡ƒöÉ prevent building .env in docker: https://dotenvx.com/prebuild

 [32mΓ£ô[39m src/lib/features/auth/infrastructure/persistence/__tests__/PrismaUserRepository.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mΓ£ô[39m src/lib/features/auth/presentation/dto/__tests__/Refresh.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mΓ£ô[39m src/lib/features/auth/infrastructure/mapper/__tests__/UserMapper.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mΓ£ô[39m src/lib/common/utils/date.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 10[2mms[22m[39m

[2m Test Files [22m [1m[31m5 failed[39m[22m[2m | [22m[1m[32m24 passed[39m[22m[90m (29)[39m
[2m      Tests [22m [1m[31m9 failed[39m[22m[2m | [22m[1m[32m44 passed[39m[22m[90m (53)[39m
[2m   Start at [22m 13:46:04
[2m   Duration [22m 4.92s[2m (transform 3.86s, setup 2.53s, import 9.87s, tests 2.04s, environment 11ms)[22m

