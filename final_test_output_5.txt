
Running 12 tests using 1 worker

  âœ“   1 [chromium] â€º tests\e2e\auth.spec.ts:4:9 â€º Authentication Flow â€º should show login page (2.1s)
  âœ“   2 [chromium] â€º tests\e2e\auth.spec.ts:11:9 â€º Authentication Flow â€º should fail login with invalid credentials (3.6s)
ðŸ“Š Page Load Time: 0.58 seconds
âœ… KPI - NFR 1.1 PASS: Page load time <= 3 seconds
  âœ“   3 [chromium] â€º tests\e2e\kpi.spec.ts:38:5 â€º KPI - NFR 1.1: Page Load Speed (Maksimal 3 detik) (714ms)
ðŸ”§ Setting up test environment...
âœ… Using existing Facility management user (ID: 65)
âœ… Test panel created: 29
âœ… Test environment setup complete
ðŸ“Š Save Process Time: 0.23 seconds
âœ… KPI - NFR 1.2 PASS: Save process time <= 2 seconds
  âœ“   4 [chromium] â€º tests\e2e\kpi.spec.ts:271:9 â€º ðŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - NFR 1.2: Waktu Proses Simpan dan Update data (Maks 2 detik) (242ms)
ðŸ“Š Password Hash (SHA256): b55c8792d1ce458e...
âœ… KPI - NFR 2.1 PASS: Password menggunakan SHA256 hashing
  âœ“   5 [chromium] â€º tests\e2e\kpi.spec.ts:344:9 â€º ðŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - NFR 2.1: Password pengguna menggunakan Metode Hashing SHA256 (372ms)
ðŸ“Š SQL Injection Protection: 20/20 (100.0%)
âœ… KPI - NFR 2.2 PASS: 100% terlindung dari SQL Injection
  âœ“   6 [chromium] â€º tests\e2e\kpi.spec.ts:406:9 â€º ðŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - NFR 2.2: Proteksi Input (100% terlindung dari serangan SQL Injection) (1.7s)
âœ… KPI - NFR 2.4 PASS: Auto logout setelah idle time bekerja
  âœ“   7 [chromium] â€º tests\e2e\kpi.spec.ts:472:9 â€º ðŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - NFR 2.4: Manajemen Sesi (Logout otomatis setelah 5 menit tanpa aktivitas) (11.3s)
ðŸ“Š Buttons with visual indicators: 2/5
ðŸ“Š Status elements with icons/text: 0/0
âš ï¸ Tidak ada status element dengan icon/text. Cek UI!
âœ… KPI - NFR 4.1 CHECKED: UI dicek untuk deuteranopia
  âœ“   8 [chromium] â€º tests\e2e\kpi.spec.ts:537:9 â€º ðŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - NFR 4.1: Dukungan Deuteranopia (UI dapat dibedakan oleh pengguna mengalami buta warna) (4.4s)
ðŸ”Ž Found panel dropdown, clicking...
ðŸ”Ž Found 31 panel options in dropdown
ðŸ”Ž Option 0: Pilih nama panel gedung
ðŸ”Ž Option 1: KPI Test Panel 1767687204206
ðŸ”Ž Option 2: KPI Test Panel 1767687112932
ðŸ”Ž Found dropdown option, clicking on second option (skip placeholder)...
ðŸ”Ž Panel dropdown text after selection: "KPI Test Panel 1767687204206"
âœ… Panel berhasil dipilih
ðŸ“Š Success notification has icon/emoji: true
ðŸ“Š Error notification has icon/emoji/indikator: true
âœ… KPI - NFR 4.2 CHECKED: Notifikasi dicek untuk ikon/emoji/indikator visual
  âœ“   9 [chromium] â€º tests\e2e\kpi.spec.ts:594:9 â€º ðŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - NFR 4.2: Indikator Visual (Notifikasi success/error harus menggunakan ikon khusus) (12.9s)
ðŸ”Ž Input data: { bulan: [32m'2026-01'[39m, kwh: [32m'42393'[39m, tagihan: [32m'117243'[39m }
ðŸ”Ž No select element found, trying dropdown
ðŸ”Ž Found panel dropdown, clicking...
ðŸ”Ž Searching for panel containing: "KPI Test Panel"
ðŸ”Ž Found 31 panel options in dropdown
ðŸ”Ž Found target panel at index 1: "KPI Test Panel 1767687204206"
ðŸ”Ž Panel dropdown text after selection: "KPI Test Panel 1767687204206"
ðŸ”Ž Form values before submit: { bulan: [32m'2026-01'[39m, kwh: [32m'42393'[39m, tagihan: [32m'117243'[39m }
ðŸ”Ž Menekan tombol submit...
âŒ Submit form gagal! Notifikasi error: Data anda tidak berhasil disimpan!
âŒ Submit form gagal! Notifikasi error: Data anda tidak berhasil disimpan!
âŒ Submit form gagal! Notifikasi error: Data anda tidak berhasil disimpan!
Failed to delete panel 29: 405
  âœ˜  10 [chromium] â€º tests\e2e\kpi.spec.ts:717:9 â€º ðŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - NFR 3.1: Zero Data Loss (Tidak ada data hilang jika sistem gagal saat proses input/edit) (12.4s)
ðŸ”§ Setting up test environment...
âœ… Using existing Facility management user (ID: 65)
âœ… Test panel created: 30
âœ… Test environment setup complete
Failed to delete panel 30: 405
  âœ˜  11 [chromium] â€º tests\e2e\kpi.spec.ts:891:9 â€º ðŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - FR 3.2.1: Akurasi Validasi Penyimpanan (Sistem menolak simpan jika ada field kosong dengan notifikasi spesifik) (30.1s)
ðŸ”§ Setting up test environment...
âœ… Using existing Facility management user (ID: 65)
âœ… Test panel created: 35
âœ… Test environment setup complete
Failed to delete panel 35: 405
  âœ˜  12 [chromium] â€º tests\e2e\kpi.spec.ts:951:9 â€º ðŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - FR 3.2.2: Akurasi Validasi Input (Input jumlah KWh dan tagihan tidak boleh minus, nol, decimal, atau huruf) (351ms)


  1) [chromium] â€º tests\e2e\kpi.spec.ts:717:9 â€º ðŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - NFR 3.1: Zero Data Loss (Tidak ada data hilang jika sistem gagal saat proses input/edit) 

    Error: Form submit gagal: Data anda tidak berhasil disimpan!
    Saran debug: cek validasi input di UI dan backend, pastikan semua field terisi dan format benar.

      835 |                 hasErrorNotif = await notifLocator.count() > 0;
      836 |                 if (hasErrorNotif) {
    > 837 |                     notifText = await notifLocator.first().textContent() || '';
          |                           ^
      838 |                     console.error('âŒ Submit form gagal! Notifikasi error:', notifText);
      839 |                     throw new Error('Form submit gagal: ' + notifText + '\nSaran debug: cek validasi input di UI dan backend, pastikan semua field terisi dan format benar.');
      840 |                 }
        at C:\Kuliah\Semester 7\PM\tubes\multidisiplin2025\tests\e2e\kpi.spec.ts:837:27

    Error Context: test-results\kpi-ðŸ“Š-KPI-Validation-Test-99a37-gal-saat-proses-input-edit--chromium\error-context.md

  2) [chromium] â€º tests\e2e\kpi.spec.ts:891:9 â€º ðŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - FR 3.2.1: Akurasi Validasi Penyimpanan (Sistem menolak simpan jika ada field kosong dengan notifikasi spesifik) 

    [31mTest timeout of 30000ms exceeded.[39m

    Error: page.reload: Test timeout of 30000ms exceeded.
    Call log:
    [2m  - waiting for navigation until "load"[22m
    [2m    - navigated to "http://localhost:3000/electricity-bills/input"[22m


      919 |         expect(hasErrorMessage).toBeTruthy();
      920 |
    > 921 |         // Test 2: Submit dengan beberapa field kosong (bulan kosong)
          |                    ^
      922 |         // Reload halaman untuk reset form
      923 |         await page.reload({ waitUntil: 'load' });
      924 |         await page.waitForSelector('input[name="bulan"]', { timeout: 10000 });
        at C:\Kuliah\Semester 7\PM\tubes\multidisiplin2025\tests\e2e\kpi.spec.ts:921:20

    Error Context: test-results\kpi-ðŸ“Š-KPI-Validation-Test-49b3f-dengan-notifikasi-spesifik--chromium\error-context.md

  3) [chromium] â€º tests\e2e\kpi.spec.ts:951:9 â€º ðŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - FR 3.2.2: Akurasi Validasi Input (Input jumlah KWh dan tagihan tidak boleh minus, nol, decimal, atau huruf) 

    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected value: [32m500[39m
    Received array: [31m[400, 422][39m

      975 |         });
      976 |
    > 977 |         expect([400, 422]).toContain(negativeResponse.status());
          |                            ^
      978 |         const negativeData = await getJsonResponse(negativeResponse);
      979 |         expect(negativeData).toHaveProperty('error');
      980 |
        at C:\Kuliah\Semester 7\PM\tubes\multidisiplin2025\tests\e2e\kpi.spec.ts:977:28

  3 failed
    [chromium] â€º tests\e2e\kpi.spec.ts:717:9 â€º ðŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - NFR 3.1: Zero Data Loss (Tidak ada data hilang jika sistem gagal saat proses input/edit) 
    [chromium] â€º tests\e2e\kpi.spec.ts:891:9 â€º ðŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - FR 3.2.1: Akurasi Validasi Penyimpanan (Sistem menolak simpan jika ada field kosong dengan notifikasi spesifik) 
    [chromium] â€º tests\e2e\kpi.spec.ts:951:9 â€º ðŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - FR 3.2.2: Akurasi Validasi Input (Input jumlah KWh dan tagihan tidak boleh minus, nol, decimal, atau huruf) 
  9 passed (1.8m)
