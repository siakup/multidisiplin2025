
[1m[46m RUN [49m[22m [36mv4.0.16 [39m[90mC:/Kuliah/Semester 7/PM/tubes/multidisiplin2025[39m

[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts
[22m[39m[dotenv@17.2.3] injecting env (5) from .env -- tip: ≡ƒöÉ prevent committing .env to code: https://dotenvx.com/precommit

[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts
[22m[39m[2026-01-06 13:36:30] [32minfo[39m: [32m[Prisma Info] Starting a postgresql pool with 17 connections.[39m

[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts[2m > [22m[2mAuth Full Integration[2m > [22m[2mregister ΓåÆ login ΓåÆ refresh ΓåÆ logout flow
[22m[39m[2026-01-06 13:36:30] [34mdebug[39m: [34mQuery: DELETE FROM "public"."Session" WHERE 1=1 | Params: [] | Duration: 8ms[39m

[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts[2m > [22m[2mAuth Full Integration[2m > [22m[2mregister ΓåÆ login ΓåÆ refresh ΓåÆ logout flow
[22m[39m[2026-01-06 13:36:30] [34mdebug[39m: [34mQuery: DELETE FROM "public"."User" WHERE 1=1 | Params: [] | Duration: 6ms[39m

[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts[2m > [22m[2mAuth Full Integration[2m > [22m[2mregister ΓåÆ login ΓåÆ refresh ΓåÆ logout flow
[22m[39m[2026-01-06 13:36:30] [34mdebug[39m: [34mQuery: SELECT "public"."User"."id_User", "public"."User"."Role", "public"."User"."Password", "public"."User"."Email", "public"."User"."Name", "public"."User"."createdAt", "public"."User"."updatedAt" FROM "public"."User" WHERE ("public"."User"."Role" = $1 AND 1=1) LIMIT $2 OFFSET $3 | Params: ["STUDENT_HOUSING",1,0] | Duration: 2ms[39m

[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts[2m > [22m[2mAuth Full Integration[2m > [22m[2mregister ΓåÆ login ΓåÆ refresh ΓåÆ logout flow
[22m[39m[2026-01-06 13:36:30] [34mdebug[39m: [34mQuery: SELECT "public"."User"."id_User", "public"."User"."Role", "public"."User"."Password", "public"."User"."Email", "public"."User"."Name", "public"."User"."createdAt", "public"."User"."updatedAt" FROM "public"."User" WHERE ("public"."User"."Email" = $1 AND 1=1) LIMIT $2 OFFSET $3 | Params: ["test@example.com",1,0] | Duration: 2ms[39m

[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts[2m > [22m[2mAuth Full Integration[2m > [22m[2mregister ΓåÆ login ΓåÆ refresh ΓåÆ logout flow
[22m[39m[2026-01-06 13:36:30] [34mdebug[39m: [34mQuery: INSERT INTO "public"."User" ("Role","Password","Email","Name","createdAt","updatedAt") VALUES ($1,$2,$3,$4,$5,$6) RETURNING "public"."User"."id_User", "public"."User"."Role", "public"."User"."Password", "public"."User"."Email", "public"."User"."Name", "public"."User"."createdAt", "public"."User"."updatedAt" | Params: ["STUDENT_HOUSING","5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8","test@example.com","Test User","2026-01-06 06:36:30.871 UTC","2026-01-06 06:36:30.871 UTC"] | Duration: 4ms[39m

[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts[2m > [22m[2mAuth Full Integration[2m > [22m[2mregister ΓåÆ login ΓåÆ refresh ΓåÆ logout flow
[22m[39m[2026-01-06 13:36:30] [34mdebug[39m: [34mQuery: SELECT "public"."User"."id_User", "public"."User"."Role", "public"."User"."Password", "public"."User"."Email", "public"."User"."Name", "public"."User"."createdAt", "public"."User"."updatedAt" FROM "public"."User" WHERE ("public"."User"."Role" = $1 AND 1=1) LIMIT $2 OFFSET $3 | Params: ["STUDENT_HOUSING",1,0] | Duration: 0ms[39m

[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts[2m > [22m[2mAuth Full Integration[2m > [22m[2mregister ΓåÆ login ΓåÆ refresh ΓåÆ logout flow
[22m[39m[2026-01-06 13:36:30] [34mdebug[39m: [34mQuery: INSERT INTO "public"."Session" ("id","userId","refreshToken","expiresAt","createdAt") VALUES ($1,$2,$3,$4,$5) RETURNING "public"."Session"."id", "public"."Session"."userId", "public"."Session"."refreshToken", "public"."Session"."expiresAt", "public"."Session"."createdAt" | Params: ["cmk27uyi90001tmecc4val769",5,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzZXNzaW9uIjp0cnVlLCJ1c2VySWQiOjUsImlhdCI6MTc2NzY4MTM5MCwiZXhwIjoxNzY4Mjg2MTkwfQ.J-HmUZdM945GOxA-KqgZj6P3Zoey5eupVaPSzEFIHos","2026-01-13 06:36:30.895 UTC","2026-01-06 06:36:30.897 UTC"] | Duration: 3ms[39m

[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts[2m > [22m[2mAuth Full Integration[2m > [22m[2mregister ΓåÆ login ΓåÆ refresh ΓåÆ logout flow
[22m[39m[2026-01-06 13:36:31] [34mdebug[39m: [34mQuery: SELECT "public"."Session"."id", "public"."Session"."userId", "public"."Session"."refreshToken", "public"."Session"."expiresAt", "public"."Session"."createdAt" FROM "public"."Session" WHERE ("public"."Session"."refreshToken" = $1 AND 1=1) LIMIT $2 OFFSET $3 | Params: ["eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzZXNzaW9uIjp0cnVlLCJ1c2VySWQiOjUsImlhdCI6MTc2NzY4MTM5MCwiZXhwIjoxNzY4Mjg2MTkwfQ.J-HmUZdM945GOxA-KqgZj6P3Zoey5eupVaPSzEFIHos",1,0] | Duration: 1ms[39m

[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts[2m > [22m[2mAuth Full Integration[2m > [22m[2mregister ΓåÆ login ΓåÆ refresh ΓåÆ logout flow
[22m[39m[2026-01-06 13:36:31] [34mdebug[39m: [34mQuery: DELETE FROM "public"."Session" WHERE "public"."Session"."refreshToken" = $1 | Params: ["eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzZXNzaW9uIjp0cnVlLCJ1c2VySWQiOjUsImlhdCI6MTc2NzY4MTM5MCwiZXhwIjoxNzY4Mjg2MTkwfQ.J-HmUZdM945GOxA-KqgZj6P3Zoey5eupVaPSzEFIHos"] | Duration: 1ms[39m

[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts[2m > [22m[2mAuth Full Integration[2m > [22m[2mregister ΓåÆ login ΓåÆ refresh ΓåÆ logout flow
[22m[39m[2026-01-06 13:36:31] [34mdebug[39m: [34mQuery: SELECT "public"."Session"."id", "public"."Session"."userId", "public"."Session"."refreshToken", "public"."Session"."expiresAt", "public"."Session"."createdAt" FROM "public"."Session" WHERE ("public"."Session"."refreshToken" = $1 AND 1=1) LIMIT $2 OFFSET $3 | Params: ["eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzZXNzaW9uIjp0cnVlLCJ1c2VySWQiOjUsImlhdCI6MTc2NzY4MTM5MCwiZXhwIjoxNzY4Mjg2MTkwfQ.J-HmUZdM945GOxA-KqgZj6P3Zoey5eupVaPSzEFIHos",1,0] | Duration: 0ms[39m

[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts[2m > [22m[2mAuth Full Integration[2m > [22m[2mlogin gagal jika password salah
[22m[39m[2026-01-06 13:36:31] [34mdebug[39m: [34mQuery: DELETE FROM "public"."Session" WHERE 1=1 | Params: [] | Duration: 0ms[39m

[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts[2m > [22m[2mAuth Full Integration[2m > [22m[2mlogin gagal jika password salah
[22m[39m[2026-01-06 13:36:31] [34mdebug[39m: [34mQuery: DELETE FROM "public"."User" WHERE 1=1 | Params: [] | Duration: 6ms[39m

[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts[2m > [22m[2mAuth Full Integration[2m > [22m[2mlogin gagal jika password salah
[22m[39m[2026-01-06 13:36:31] [34mdebug[39m: [34mQuery: SELECT "public"."User"."id_User", "public"."User"."Role", "public"."User"."Password", "public"."User"."Email", "public"."User"."Name", "public"."User"."createdAt", "public"."User"."updatedAt" FROM "public"."User" WHERE ("public"."User"."Role" = $1 AND 1=1) LIMIT $2 OFFSET $3 | Params: ["FAIL_ROLE",1,0] | Duration: 0ms[39m

[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts[2m > [22m[2mAuth Full Integration[2m > [22m[2mlogin gagal jika password salah
[22m[39m[2026-01-06 13:36:31] [34mdebug[39m: [34mQuery: INSERT INTO "public"."User" ("Role","Password","createdAt","updatedAt") VALUES ($1,$2,$3,$4) RETURNING "public"."User"."id_User", "public"."User"."Role", "public"."User"."Password", "public"."User"."Email", "public"."User"."Name", "public"."User"."createdAt", "public"."User"."updatedAt" | Params: ["FAIL_ROLE","15a596e3c98c407e043751ff3b21ff0358a1bdfdf3fe948b1523893a8e5de2e8","2026-01-06 06:36:31.952 UTC","2026-01-06 06:36:31.952 UTC"] | Duration: 1ms[39m

[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts[2m > [22m[2mAuth Full Integration[2m > [22m[2mlogin gagal jika password salah
[22m[39m[2026-01-06 13:36:31] [34mdebug[39m: [34mQuery: SELECT "public"."User"."id_User", "public"."User"."Role", "public"."User"."Password", "public"."User"."Email", "public"."User"."Name", "public"."User"."createdAt", "public"."User"."updatedAt" FROM "public"."User" WHERE ("public"."User"."Role" = $1 AND 1=1) LIMIT $2 OFFSET $3 | Params: ["FAIL_ROLE",1,0] | Duration: 0ms[39m

[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts[2m > [22m[2mAuth Full Integration
[22m[39m[2026-01-06 13:36:31] [34mdebug[39m: [34mQuery: DELETE FROM "public"."Session" WHERE 1=1 | Params: [] | Duration: 0ms[39m

[90mstdout[2m | src/lib/features/auth/auth.integration.test.ts[2m > [22m[2mAuth Full Integration
[22m[39m[2026-01-06 13:36:31] [34mdebug[39m: [34mQuery: DELETE FROM "public"."User" WHERE 1=1 | Params: [] | Duration: 1ms[39m

 [31mΓ¥»[39m src/lib/features/auth/auth.integration.test.ts [2m([22m[2m2 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 1152[2mms[22m[39m
     [33m[2mΓ£ô[22m[39m register ΓåÆ login ΓåÆ refresh ΓåÆ logout flow [33m 1113[2mms[22m[39m
[31m     [31m├ù[31m login gagal jika password salah[39m[32m 31[2mms[22m[39m

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m1 passed[39m[22m[90m (2)[39m
[2m   Start at [22m 13:36:29
[2m   Duration [22m 2.17s[2m (transform 303ms, setup 94ms, import 618ms, tests 1.15s, environment 0ms)[22m

