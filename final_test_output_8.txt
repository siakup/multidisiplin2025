
Running 12 tests using 1 worker

  âœ“   1 [chromium] â€º tests\e2e\auth.spec.ts:4:9 â€º Authentication Flow â€º should show login page (3.5s)
  âœ˜   2 [chromium] â€º tests\e2e\auth.spec.ts:11:9 â€º Authentication Flow â€º should fail login with invalid credentials (7.2s)
ðŸ“Š Page Load Time: 1.34 seconds
âœ… KPI - NFR 1.1 PASS: Page load time <= 3 seconds
  âœ“   3 [chromium] â€º tests\e2e\kpi.spec.ts:38:5 â€º KPI - NFR 1.1: Page Load Speed (Maksimal 3 detik) (1.6s)
ðŸ”§ Setting up test environment...
âœ… Using existing Facility management user (ID: 65)
âœ… Test panel created: 41
âœ… Test environment setup complete
ðŸ“Š Save Process Time: 2.43 seconds
âŒ Test NFR 1.2 FAILED: [2mexpect([22m[31mreceived[39m[2m).[22mtoBeLessThanOrEqual[2m([22m[32mexpected[39m[2m)[22m

Expected: <= [32m2[39m
Received:    [31m2.428[39m
   Time elapsed: 2.44 seconds
  âœ˜   4 [chromium] â€º tests\e2e\kpi.spec.ts:273:9 â€º ðŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - NFR 1.2: Waktu Proses Simpan dan Update data (Maks 2 detik) (2.6s)
ðŸ”§ Setting up test environment...
âœ… Using existing Facility management user (ID: 65)
âŒ Gagal membuat test panel. Error: Failed to create panel: 500 <!DOCTYPE html><html><head><meta charSet="utf-8" data-next-head=""/><meta name="viewport" content="width=device-width" data-next-head=""/><style data-next-hide-fouc="true">body{display:none}</style><noscript data-next-hide-fouc="true"><style>body{display:block}</style></noscript><noscript data-n-css=""></noscript><script defer="" noModule="" src="/_next/static/chunks/polyfills.js"></script><script src="/_next/static/chunks/webpack.js" defer=""></script><script src="/_next/static/chunks/main.js" defer=""></script><script src="/_next/static/chunks/pages/_app.js" defer=""></script><script src="/_next/static/chunks/pages/_error.js" defer=""></script><script src="/_next/static/development/_buildManifest.js" defer=""></script><script src="/_next/static/development/_ssgManifest.js" defer=""></script><noscript id="__next_css__DO_NOT_USE__"></noscript></head><body><div id="__next"></div><script src="/_next/static/chunks/react-refresh.js"></script><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"statusCode":500,"hostname":"localhost"}},"page":"/_error","query":{},"buildId":"development","isFallback":false,"err":{"name":"SyntaxError","source":"server","message":"Unexpected end of JSON input","stack":"SyntaxError: Unexpected end of JSON input\n    at JSON.parse (\u003canonymous\u003e)\n    at loadManifest (C:\\Kuliah\\Semester 7\\PM\\tubes\\multidisiplin2025\\node_modules\\next\\dist\\server\\load-manifest.external.js:43:25)\n    at loadManifestFromRelativePath (C:\\Kuliah\\Semester 7\\PM\\tubes\\multidisiplin2025\\node_modules\\next\\dist\\server\\load-manifest.external.js:84:16)\n    at AppRouteRouteModule.loadManifests (C:\\Kuliah\\Semester 7\\PM\\tubes\\multidisiplin2025\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:1:156613)\n    at AppRouteRouteModule.prepare (C:\\Kuliah\\Semester 7\\PM\\tubes\\multidisiplin2025\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:1:164236)\n    at async handler (webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fpanel%2Froute\u0026page=%2Fapi%2Fpanel%2Froute\u0026appPaths=\u0026pagePath=private-next-app-dir%2Fapi%2Fpanel%2Froute.ts\u0026appDir=C%3A%5CKuliah%5CSemester%207%5CPM%5Ctubes%5Cmultidisiplin2025%5Csrc%5Capp\u0026pageExtensions=tsx\u0026pageExtensions=ts\u0026pageExtensions=jsx\u0026pageExtensions=js\u0026rootDir=C%3A%5CKuliah%5CSemester%207%5CPM%5Ctubes%5Cmultidisiplin2025\u0026isDev=true\u0026tsconfigPath=tsconfig.json\u0026basePath=\u0026assetPrefix=\u0026nextConfigOutput=standalone\u0026preferredRegion=\u0026middlewareConfig=e30%3D\u0026isGlobalNotFoundEnabled=!:95:27)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Kuliah\\Semester 7\\PM\\tubes\\multidisiplin2025\\node_modules\\next\\dist\\server\\base-server.js:1422:9)\n    at async DevServer.renderPageComponent (C:\\Kuliah\\Semester 7\\PM\\tubes\\multidisiplin2025\\node_modules\\next\\dist\\server\\base-server.js:1474:24)\n    at async DevServer.renderToResponseImpl (C:\\Kuliah\\Semester 7\\PM\\tubes\\multidisiplin2025\\node_modules\\next\\dist\\server\\base-server.js:1514:32)\n    at async DevServer.pipeImpl (C:\\Kuliah\\Semester 7\\PM\\tubes\\multidisiplin2025\\node_modules\\next\\dist\\server\\base-server.js:1025:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Kuliah\\Semester 7\\PM\\tubes\\multidisiplin2025\\node_modules\\next\\dist\\server\\next-server.js:393:17)\n    at async DevServer.handleRequestImpl (C:\\Kuliah\\Semester 7\\PM\\tubes\\multidisiplin2025\\node_modules\\next\\dist\\server\\base-server.js:916:17)\n    at async C:\\Kuliah\\Semester 7\\PM\\tubes\\multidisiplin2025\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:399:20\n    at async Span.traceAsyncFn (C:\\Kuliah\\Semester 7\\PM\\tubes\\multidisiplin2025\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Kuliah\\Semester 7\\PM\\tubes\\multidisiplin2025\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:395:24)\n    at async invokeRender (C:\\Kuliah\\Semester 7\\PM\\tubes\\multidisiplin2025\\node_modules\\next\\dist\\server\\lib\\router-server.js:240:21)\n    at async handleRequest (C:\\Kuliah\\Semester 7\\PM\\tubes\\multidisiplin2025\\node_modules\\next\\dist\\server\\lib\\router-server.js:437:24)\n    at async requestHandlerImpl (C:\\Kuliah\\Semester 7\\PM\\tubes\\multidisiplin2025\\node_modules\\next\\dist\\server\\lib\\router-server.js:485:13)\n    at async Server.requestListener (C:\\Kuliah\\Semester 7\\PM\\tubes\\multidisiplin2025\\node_modules\\next\\dist\\server\\lib\\start-server.js:226:13)"},"gip":true,"scriptLoader":[]}</script></body></html>
ðŸ“Š Password Hash (SHA256): b55c8792d1ce458e...
âœ… KPI - NFR 2.1 PASS: Password menggunakan SHA256 hashing
  âœ“   5 [chromium] â€º tests\e2e\kpi.spec.ts:346:9 â€º ðŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - NFR 2.1: Password pengguna menggunakan Metode Hashing SHA256 (11.7s)
ðŸ“Š SQL Injection Protection: 20/20 (100.0%)
âœ… KPI - NFR 2.2 PASS: 100% terlindung dari SQL Injection
  âœ“   6 [chromium] â€º tests\e2e\kpi.spec.ts:408:9 â€º ðŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - NFR 2.2: Proteksi Input (100% terlindung dari serangan SQL Injection) (8.8s)
  -   7 [chromium] â€º tests\e2e\kpi.spec.ts:474:9 â€º ðŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - NFR 2.4: Manajemen Sesi (Logout otomatis setelah 5 menit tanpa aktivitas)
  âœ˜   8 [chromium] â€º tests\e2e\kpi.spec.ts:539:9 â€º ðŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - NFR 4.1: Dukungan Deuteranopia (UI dapat dibedakan oleh pengguna mengalami buta warna) (30.1s)
ðŸ”§ Setting up test environment...
âœ… Using existing Facility management user (ID: 65)
âœ… Test panel created: 42
âœ… Test environment setup complete
  âœ˜   9 [chromium] â€º tests\e2e\kpi.spec.ts:596:9 â€º ðŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - NFR 4.2: Indikator Visual (Notifikasi success/error harus menggunakan ikon khusus) (6.4s)
ðŸ”§ Setting up test environment...
âœ… Using existing Facility management user (ID: 65)
  âœ˜  10 [chromium] â€º tests\e2e\kpi.spec.ts:719:9 â€º ðŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - NFR 3.1: Zero Data Loss (Tidak ada data hilang jika sistem gagal saat proses input/edit) (0ms)
  -  11 [chromium] â€º tests\e2e\kpi.spec.ts:894:9 â€º ðŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - FR 3.2.1: Akurasi Validasi Penyimpanan (Sistem menolak simpan jika ada field kosong dengan notifikasi spesifik)
  -  12 [chromium] â€º tests\e2e\kpi.spec.ts:954:9 â€º ðŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - FR 3.2.2: Akurasi Validasi Input (Input jumlah KWh dan tagihan tidak boleh minus, nol, decimal, atau huruf)


  1) [chromium] â€º tests\e2e\auth.spec.ts:11:9 â€º Authentication Flow â€º should fail login with invalid credentials 

    Error: [2mexpect([22m[31mlocator[39m[2m).[22mtoBeVisible[2m([22m[2m)[22m failed

    Locator: locator('text=Role atau password salah')
    Expected: visible
    Timeout: 5000ms
    Error: element(s) not found

    Call log:
    [2m  - Expect "toBeVisible" with timeout 5000ms[22m
    [2m  - waiting for locator('text=Role atau password salah')[22m


      16 |
      17 |         // Check for error message
    > 18 |         await expect(page.locator('text=Role atau password salah')).toBeVisible();
         |                                                                     ^
      19 |     });
      20 | });
      21 |
        at C:\Kuliah\Semester 7\PM\tubes\multidisiplin2025\tests\e2e\auth.spec.ts:18:69

    Error Context: test-results\auth-Authentication-Flow-s-101a9-in-with-invalid-credentials-chromium\error-context.md

  2) [chromium] â€º tests\e2e\kpi.spec.ts:273:9 â€º ðŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - NFR 1.2: Waktu Proses Simpan dan Update data (Maks 2 detik) 

    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBeLessThanOrEqual[2m([22m[32mexpected[39m[2m)[22m

    Expected: <= [32m2[39m
    Received:    [31m2.428[39m

      328 |
      329 |             // KPI Target: Maksimal 2 detik
    > 330 |             expect(saveTimeSeconds).toBeLessThanOrEqual(2);
          |                                     ^
      331 |
      332 |             console.log('âœ… KPI - NFR 1.2 PASS: Save process time <= 2 seconds');
      333 |         } catch (error: any) {
        at C:\Kuliah\Semester 7\PM\tubes\multidisiplin2025\tests\e2e\kpi.spec.ts:330:37

  3) [chromium] â€º tests\e2e\kpi.spec.ts:539:9 â€º ðŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - NFR 4.1: Dukungan Deuteranopia (UI dapat dibedakan oleh pengguna mengalami buta warna) 

    [31mTest timeout of 30000ms exceeded while setting up "page".[39m

    Error: browserContext.newPage: Test timeout of 30000ms exceeded.

  4) [chromium] â€º tests\e2e\kpi.spec.ts:596:9 â€º ðŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - NFR 4.2: Indikator Visual (Notifikasi success/error harus menggunakan ikon khusus) 

    Error: browserContext.newPage: Target page, context or browser has been closed

  5) [chromium] â€º tests\e2e\kpi.spec.ts:719:9 â€º ðŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - NFR 3.1: Zero Data Loss (Tidak ada data hilang jika sistem gagal saat proses input/edit) 

    [31m"beforeAll" hook timeout of 30000ms exceeded.[39m

      117 |     }
      118 |
    > 119 |     test.beforeAll(async ({ request }) => {
          |          ^
      120 |         console.log('ðŸ”§ Setting up test environment...');
      121 |
      122 |         try {
        at C:\Kuliah\Semester 7\PM\tubes\multidisiplin2025\tests\e2e\kpi.spec.ts:119:10

  5 failed
    [chromium] â€º tests\e2e\auth.spec.ts:11:9 â€º Authentication Flow â€º should fail login with invalid credentials 
    [chromium] â€º tests\e2e\kpi.spec.ts:273:9 â€º ðŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - NFR 1.2: Waktu Proses Simpan dan Update data (Maks 2 detik) 
    [chromium] â€º tests\e2e\kpi.spec.ts:539:9 â€º ðŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - NFR 4.1: Dukungan Deuteranopia (UI dapat dibedakan oleh pengguna mengalami buta warna) 
    [chromium] â€º tests\e2e\kpi.spec.ts:596:9 â€º ðŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - NFR 4.2: Indikator Visual (Notifikasi success/error harus menggunakan ikon khusus) 
    [chromium] â€º tests\e2e\kpi.spec.ts:719:9 â€º ðŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - NFR 3.1: Zero Data Loss (Tidak ada data hilang jika sistem gagal saat proses input/edit) 
  1 skipped
  2 did not run
  4 passed (2.6m)
