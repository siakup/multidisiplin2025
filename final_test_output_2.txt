
Running 12 tests using 6 workers

ğŸ”§ Setting up test environment...
ğŸ”§ Setting up test environment...
ğŸ”§ Setting up test environment...
âš ï¸ Login failed: Assignment to constant variable.
âš ï¸ Trying to register new user...
âš ï¸ Login failed: Login failed with status 500
âš ï¸ Trying to register new user...
âš ï¸ Login failed: Login failed with status 500
âš ï¸ Trying to register new user...
âœ… User registration successful (or already exists)
âœ… User registration successful (or already exists)
âœ… User registration successful (or already exists)
ğŸ“Š Page Load Time: 1.88 seconds
âœ… KPI - NFR 1.1 PASS: Page load time <= 3 seconds
âŒ Gagal login setelah register. Error: Assignment to constant variable.
  âœ“   2 [chromium] â€º tests\e2e\kpi.spec.ts:38:5 â€º KPI - NFR 1.1: Page Load Speed (Maksimal 3 detik) (2.3s)
  -   1 [chromium] â€º tests\e2e\kpi.spec.ts:271:9 â€º ğŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - NFR 1.2: Waktu Proses Simpan dan Update data (Maks 2 detik)
ğŸ”§ Setting up test environment...
âŒ Gagal login setelah register. Error: Login failed with status 500
âŒ Gagal login setelah register. Error: Login failed with status 500
  -   6 [chromium] â€º tests\e2e\kpi.spec.ts:537:9 â€º ğŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - NFR 4.1: Dukungan Deuteranopia (UI dapat dibedakan oleh pengguna mengalami buta warna)
  -   9 [chromium] â€º tests\e2e\kpi.spec.ts:591:9 â€º ğŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - NFR 4.2: Indikator Visual (Notifikasi success/error harus menggunakan ikon khusus)
ğŸ”§ Setting up test environment...
ğŸ“Š Password Hash (SHA256): b55c8792d1ce458e...
âœ… KPI - NFR 2.1 PASS: Password menggunakan SHA256 hashing
  âœ“   8 [chromium] â€º tests\e2e\kpi.spec.ts:344:9 â€º ğŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - NFR 2.1: Password pengguna menggunakan Metode Hashing SHA256 (850ms)
âš ï¸ Login failed: Assignment to constant variable.
âš ï¸ Trying to register new user...
âœ… User registration successful (or already exists)
âš ï¸ Login failed: Login failed with status 500
âš ï¸ Trying to register new user...
âŒ Gagal login setelah register. Error: Assignment to constant variable.
  -   7 [chromium] â€º tests\e2e\kpi.spec.ts:714:9 â€º ğŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - NFR 3.1: Zero Data Loss (Tidak ada data hilang jika sistem gagal saat proses input/edit)
âœ… User registration successful (or already exists)
  -  11 [chromium] â€º tests\e2e\kpi.spec.ts:892:9 â€º ğŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - FR 3.2.1: Akurasi Validasi Penyimpanan (Sistem menolak simpan jika ada field kosong dengan notifikasi spesifik)
âŒ Gagal login setelah register. Error: Login failed with status 500
  -  10 [chromium] â€º tests\e2e\kpi.spec.ts:952:9 â€º ğŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - FR 3.2.2: Akurasi Validasi Input (Input jumlah KWh dan tagihan tidak boleh minus, nol, decimal, atau huruf)
ğŸ“Š SQL Injection Protection: 20/20 (100.0%)
âœ… KPI - NFR 2.2 PASS: 100% terlindung dari SQL Injection
  âœ“   4 [chromium] â€º tests\e2e\kpi.spec.ts:406:9 â€º ğŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - NFR 2.2: Proteksi Input (100% terlindung dari serangan SQL Injection) (3.4s)
  -  12 [chromium] â€º tests\e2e\kpi.spec.ts:472:9 â€º ğŸ“Š KPI Validation Tests (9 Test Cases - Auth Required) â€º KPI - NFR 2.4: Manajemen Sesi (Logout otomatis setelah 5 menit tanpa aktivitas)
  âœ˜   5 [chromium] â€º tests\e2e\auth.spec.ts:4:9 â€º Authentication Flow â€º should show login page (10.4s)
  âœ˜   3 [chromium] â€º tests\e2e\auth.spec.ts:11:9 â€º Authentication Flow â€º should fail login with invalid credentials (30.1s)


  1) [chromium] â€º tests\e2e\auth.spec.ts:4:9 â€º Authentication Flow â€º should show login page â”€â”€â”€â”€â”€â”€â”€â”€

    Error: [2mexpect([22m[31mpage[39m[2m).[22mtoHaveTitle[2m([22m[32mexpected[39m[2m)[22m failed

    Expected pattern: [32m/Login/i[39m
    Received string:  [31m"Campus Facility Management System"[39m
    Timeout: 5000ms

    Call log:
    [2m  - Expect "toHaveTitle" with timeout 5000ms[22m
    [2m    9 Ã— unexpected value "Campus Facility Management System"[22m


       5 |         await page.goto('/login');
       6 |         // Check for role input or heading
    >  7 |         await expect(page).toHaveTitle(/Login/i);
         |                            ^
       8 |         await expect(page.locator('input[name="role"]')).toBeVisible();
       9 |     });
      10 |
        at C:\Kuliah\Semester 7\PM\tubes\multidisiplin2025\tests\e2e\auth.spec.ts:7:28

    Error Context: test-results\auth-Authentication-Flow-should-show-login-page-chromium\error-context.md

  2) [chromium] â€º tests\e2e\auth.spec.ts:11:9 â€º Authentication Flow â€º should fail login with invalid credentials 

    [31mTest timeout of 30000ms exceeded.[39m

    Error: page.fill: Test timeout of 30000ms exceeded.
    Call log:
    [2m  - waiting for locator('input[name="role"]')[22m


      11 |     test('should fail login with invalid credentials', async ({ page }) => {
      12 |         await page.goto('/login');
    > 13 |         await page.fill('input[name="role"]', 'WRONG_ROLE');
         |                    ^
      14 |         await page.fill('input[name="password"]', 'wrongpassword');
      15 |         await page.click('button[type="submit"]');
      16 |
        at C:\Kuliah\Semester 7\PM\tubes\multidisiplin2025\tests\e2e\auth.spec.ts:13:20

    Error Context: test-results\auth-Authentication-Flow-s-101a9-in-with-invalid-credentials-chromium\error-context.md

  2 failed
    [chromium] â€º tests\e2e\auth.spec.ts:4:9 â€º Authentication Flow â€º should show login page â”€â”€â”€â”€â”€â”€â”€â”€â”€
    [chromium] â€º tests\e2e\auth.spec.ts:11:9 â€º Authentication Flow â€º should fail login with invalid credentials 
  7 skipped
  3 passed (33.3s)
